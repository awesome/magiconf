{"name":"Magiconf","tagline":"Magiconf is a tiny gem for managing a Rails application configuration file","body":"Magiconf\r\n========\r\nMagiconf is a light-weight alternative to figaro that is designed to work directly with Rails. Easily store and access all your application's configuration data using a single yaml file. A great solution for storing passwords, dealing with heroku, and working in a team with different development environments.\r\n\r\nInstallation\r\n------------\r\n1. Add `magiconf` to your application's Gemfile:\r\n\r\n        gem 'magiconf'\r\n\r\n  Don't forget to run the `bundle` command to install.\r\n\r\n2. Next, create `config/application.yml`:\r\n\r\n        touch config/application.yml\r\n\r\n3. Add your configuration variables:\r\n\r\n    ```yaml\r\n    # config/application.yml\r\n    username: 'seth'\r\n    password: 'aj29slda'\r\n    development:\r\n      pusher_url: 'http://github.com/pusher'\r\n    production:\r\n      pusher_url: 'http://google.com/pusher'\r\n    ```\r\n\r\nUsage\r\n-----\r\nYou now have access to all your configuration data in an easy constant: `YourApp::Config`. For example, if my Rails app was name `Envelope`, I could access my configuration with `Envelope::Config`. Let's look at a simple example:\r\n\r\n```ruby\r\n# Gemfile\r\ngem 'magiconf'\r\ngem 'rails'\r\n```\r\n\r\n```yaml\r\n# config/application.yml\r\nusername: 'seth'\r\ndevelopment:\r\n  password: 'test'\r\nproduction:\r\n  password: 'super_secret_test'\r\n```\r\n\r\n```ruby\r\n# app/controllers/application_controller.rb\r\ndef authenticate\r\n  username = Envelope::Config.username\r\n  password = Envelope::Config.password\r\n\r\n  render :unathorized unless params[:username] == username && params[:password] == password\r\nend\r\n```\r\n**Note: Magiconf will automatically merge the keys associated with your current Rails environment with the top-level ones.**\r\n\r\nNested Keys\r\n-----------\r\nSometimes, it might make sense to nest your data. For example, a common pusher configuration might look like this:\r\n\r\n```yaml\r\n# config/application.yml\r\npusher:\r\n  app_id: 123\r\n  key: abcdef\r\n  secret: abcdefghijklmnop1234567890\r\n```\r\n\r\nThe `.pusher` method would return this data, accessible in a hash:\r\n\r\n```ruby\r\n>> Envelope::Config.pusher\r\n=> {\"app_id\"=>123, \"key\"=>\"abcdef\", \"secret\"=>\"abcdefghijklmnop1234567890\"}\r\n```\r\n\r\n**Notice that the keys are strings, not symbols.** This means you would do something like this in an initializer:\r\n\r\n```ruby\r\n# config/initializers/pusher.rb\r\nPusher.app_id = Envelope::Config.pusher['app_id']  # not :app_id\r\nPusher.key = Envelope::Config.pusher['key']        # not :key\r\nPusher.secret = Envelope::Config.pusher['secret']  # not :secret\r\n```\r\n\r\nUsing in Application Configuration\r\n----------------------------------\r\nImagine you want to define application configuration variables with Magiconf - maybe you want to define the default host for mail in development. You'd do something like this:\r\n\r\n```yaml\r\n# config/application.yml\r\ndevelopment:\r\n  host: 'www.example.com'\r\n```\r\n\r\n```ruby\r\n# config/environments/development.rb\r\n...\r\nconfig.action_mailer.default_url_options = { host: Envelope::Config.host }\r\n```\r\n\r\n...And if you try to start up your server, you'll see:\r\n\r\n```text\r\nuninitialized constant MyApp::Config (NameError)\r\n```\r\n\r\nHuh? Well, it turns out that, even though Magiconf hooks into the Rails initialization process as early as possible, it's not soon enough. There's no way for me to get added anywhere earlier in the stack. Fortunately, there's an easy workaround.\r\n\r\nOpen up `config/application.rb` and add the following line to the bottom of the file (around line 72):\r\n\r\n```ruby\r\n# config/application.rb\r\n...\r\nMagiconf.setup!\r\n```\r\n\r\nRestart your server and things will work like a charm!\r\n\r\nContributing\r\n------------\r\n1. Fork it\r\n2. Create your feature branch (`git checkout -b my-new-feature`)\r\n3. Commit your changes (`git commit -am 'Add some feature'`)\r\n4. Push to the branch (`git push origin my-new-feature`)\r\n5. Create new Pull Request\r\n","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}